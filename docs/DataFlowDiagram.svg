<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="800" height="600" fill="#f8f9fa" />
  
  <!-- Title -->
  <text x="400" y="30" font-family="Arial" font-size="24" text-anchor="middle" font-weight="bold">Vibe System Data Flow</text>
  
  <!-- User -->
  <circle cx="400" cy="80" r="30" fill="#e1bee7" stroke="#8e24aa" stroke-width="2" />
  <text x="400" y="85" font-family="Arial" font-size="14" text-anchor="middle">User</text>
  
  <!-- Client Applications -->
  <rect x="100" y="150" width="200" height="60" fill="#bbdefb" stroke="#1976d2" stroke-width="2" rx="5" />
  <text x="200" y="185" font-family="Arial" font-size="14" text-anchor="middle">Client Applications</text>
  
  <!-- Vibe SDK -->
  <rect x="500" y="150" width="200" height="60" fill="#bbdefb" stroke="#1976d2" stroke-width="2" rx="5" />
  <text x="600" y="185" font-family="Arial" font-size="14" text-anchor="middle">Vibe SDK</text>
  
  <!-- API -->
  <rect x="300" y="250" width="200" height="60" fill="#c8e6c9" stroke="#388e3c" stroke-width="2" rx="5" />
  <text x="400" y="285" font-family="Arial" font-size="14" text-anchor="middle">Vibe Cloud API</text>
  
  <!-- Services -->
  <rect x="50" y="350" width="150" height="50" fill="#c8e6c9" stroke="#388e3c" stroke-width="2" rx="5" />
  <text x="125" y="380" font-family="Arial" font-size="12" text-anchor="middle">Identity Service</text>
  
  <rect x="225" y="350" width="150" height="50" fill="#c8e6c9" stroke="#388e3c" stroke-width="2" rx="5" />
  <text x="300" y="380" font-family="Arial" font-size="12" text-anchor="middle">Data Service</text>
  
  <rect x="400" y="350" width="150" height="50" fill="#c8e6c9" stroke="#388e3c" stroke-width="2" rx="5" />
  <text x="475" y="380" font-family="Arial" font-size="12" text-anchor="middle">Storage Service</text>
  
  <rect x="575" y="350" width="150" height="50" fill="#c8e6c9" stroke="#388e3c" stroke-width="2" rx="5" />
  <text x="650" y="380" font-family="Arial" font-size="12" text-anchor="middle">Certs Service</text>
  
  <!-- Storage -->
  <rect x="50" y="450" width="200" height="60" fill="#ffe0b2" stroke="#f57c00" stroke-width="2" rx="5" />
  <text x="150" y="485" font-family="Arial" font-size="14" text-anchor="middle">CouchDB</text>
  
  <rect x="300" y="450" width="200" height="60" fill="#ffe0b2" stroke="#f57c00" stroke-width="2" rx="5" />
  <text x="400" y="485" font-family="Arial" font-size="14" text-anchor="middle">S3 Storage</text>
  
  <rect x="550" y="450" width="200" height="60" fill="#ffe0b2" stroke="#f57c00" stroke-width="2" rx="5" />
  <text x="650" y="485" font-family="Arial" font-size="14" text-anchor="middle">Global Index</text>
  
  <!-- Connections -->
  <!-- User to Client Apps -->
  <line x1="380" y1="105" x2="220" y2="150" stroke="#757575" stroke-width="2" />
  <polygon points="225,145 215,155 230,155" fill="#757575" />
  <text x="270" y="135" font-family="Arial" font-size="10">Interacts</text>
  
  <!-- User to SDK -->
  <line x1="420" y1="105" x2="580" y2="150" stroke="#757575" stroke-width="2" />
  <polygon points="575,145 585,155 570,155" fill="#757575" />
  <text x="520" y="135" font-family="Arial" font-size="10">Auth</text>
  
  <!-- Client Apps to SDK -->
  <line x1="300" y1="180" x2="500" y2="180" stroke="#757575" stroke-width="2" />
  <polygon points="495,175 505,180 495,185" fill="#757575" />
  <text x="400" y="170" font-family="Arial" font-size="10">Uses</text>
  
  <!-- SDK to API -->
  <line x1="600" y1="210" x2="400" y2="250" stroke="#757575" stroke-width="2" />
  <polygon points="405,245 395,255 410,255" fill="#757575" />
  <text x="520" y="235" font-family="Arial" font-size="10">API Calls</text>
  
  <!-- Client Apps to API -->
  <line x1="200" y1="210" x2="380" y2="250" stroke="#757575" stroke-width="2" />
  <polygon points="375,245 385,255 370,255" fill="#757575" />
  <text x="270" y="235" font-family="Arial" font-size="10">Direct API Calls</text>
  
  <!-- API to Services -->
  <line x1="350" y1="310" x2="125" y2="350" stroke="#757575" stroke-width="2" />
  <polygon points="130,345 120,355 135,355" fill="#757575" />
  <text x="200" y="335" font-family="Arial" font-size="10">Auth Requests</text>
  
  <line x1="380" y1="310" x2="300" y2="350" stroke="#757575" stroke-width="2" />
  <polygon points="305,345 295,355 310,355" fill="#757575" />
  <text x="330" y="335" font-family="Arial" font-size="10">Data Ops</text>
  
  <line x1="420" y1="310" x2="475" y2="350" stroke="#757575" stroke-width="2" />
  <polygon points="470,345 480,355 465,355" fill="#757575" />
  <text x="455" y="335" font-family="Arial" font-size="10">File Ops</text>
  
  <line x1="450" y1="310" x2="650" y2="350" stroke="#757575" stroke-width="2" />
  <polygon points="645,345 655,355 640,355" fill="#757575" />
  <text x="570" y="335" font-family="Arial" font-size="10">Cert Ops</text>
  
  <!-- Services to Storage -->
  <line x1="125" y1="400" x2="150" y2="450" stroke="#757575" stroke-width="2" />
  <polygon points="145,445 155,455 140,455" fill="#757575" />
  <text x="110" y="430" font-family="Arial" font-size="10">User Data</text>
  
  <line x1="300" y1="400" x2="200" y2="450" stroke="#757575" stroke-width="2" />
  <polygon points="205,445 195,455 210,455" fill="#757575" />
  <text x="230" y="430" font-family="Arial" font-size="10">Documents</text>
  
  <line x1="300" y1="400" x2="650" y2="450" stroke="#757575" stroke-width="2" />
  <polygon points="645,445 655,455 640,455" fill="#757575" />
  <text x="500" y="430" font-family="Arial" font-size="10">DocRefs</text>
  
  <line x1="475" y1="400" x2="400" y2="450" stroke="#757575" stroke-width="2" />
  <polygon points="405,445 395,455 410,455" fill="#757575" />
  <text x="430" y="430" font-family="Arial" font-size="10">Files</text>
  
  <line x1="650" y1="400" x2="150" y2="450" stroke="#757575" stroke-width="2" stroke-dasharray="5,5" />
  <polygon points="155,445 145,455 160,455" fill="#757575" />
  <text x="350" y="410" font-family="Arial" font-size="10">Certificate Storage</text>
  
  <!-- Data Flow Legend -->
  <rect x="600" y="520" width="150" height="60" fill="none" stroke="#757575" stroke-width="1" />
  <text x="675" y="535" font-family="Arial" font-size="12" text-anchor="middle" font-weight="bold">Legend</text>
  
  <line x1="620" y1="550" x2="650" y2="550" stroke="#757575" stroke-width="2" />
  <polygon points="645,545 655,550 645,555" fill="#757575" />
  <text x="700" y="555" font-family="Arial" font-size="10" text-anchor="middle">Data Flow</text>
  
  <line x1="620" y1="570" x2="650" y2="570" stroke="#757575" stroke-width="2" stroke-dasharray="5,5" />
  <polygon points="645,565 655,570 645,575" fill="#757575" />
  <text x="700" y="575" font-family="Arial" font-size="10" text-anchor="middle">Optional Flow</text>
</svg>